---
import { getAlbumImages, getImagesMetadata } from '../../utils/albums';
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Album from '../../components/Album.astro'

export async function getStaticPaths() {
    const albums = await getCollection("albums");
    const paths = Object.values(albums).map((album) => {
        return {
            params: {
                slug: album.slug,
            },
            props: {
                album,
            },
        };
    });
    return paths;
}

const { album } = Astro.props;
---
<Layout title={album.data.title}>
    <Album album={album.slug} title={album.data.title} />
</Layout>
